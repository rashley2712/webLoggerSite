<html>
	<head>
		<meta charset="UTF-8">
	 	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<style>

		 <!-- <link rel="stylesheet" href="bootstrap.css"> -->
		 <title>Live WebLogger</title>
		<style>
			.headerdata {
				font-size: 10pt;
				}
			#logTable tr:hover {
     		background-color: lightgrey;
			}
			
			
			table {
    			border-collapse: collapse;
			}

			table, th {
    			border: 1px solid black;
			}

			th, td {
    			padding: 5px;
    			text-align: center;
			}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.4/angular-sanitize.js"></script>
		<script src="datahandler.js"></script>
		<!--<script src="jquery-3.2.1.min.js"></script> -->

		<script>
		window.addEventListener("load", pageLoaded, false);
		function pageLoaded() {
			console.log("Page has loaded.")
		}

		</script>

</head>

<body ng-app="LogApp"  ng-controller="dbController" ng-init="init()">
	<div>
		<img ng-src="{{ telescope.imageURL }}" width="10%" align="right"/>
		<h1 id="pageheading">{{ telescope.name }} log for {{instrument}} on date: {{ dateString }}</h1>
		<select ng-model="telescope" ng-options="t.name for t in telescopes" ng-change="load()">
		</select>
		<input id="datePicker" ng-model="date" type="date" ng-change="dateChange"/>
		<button class="btn" ng-click="clear()">Clear</button>
		<button class="btn" ng-click="startRefresh()">Start refresh</button>
	<table>
		<tr>
			<th>Total exposure time (s)</th>
			<th>Total time on targets (s)</th>
		</tr>
		<tr>
			<td>{{ totalExposureTime | round }}</td>
			<td>{{ totalTargetTime | round }}</td>
		</tr>
		
	<table>
	</div>


	<br/>
	
	<div>
		{{ statusString }}
		<span>Sorting by: {{sortColumn}}  Reverse: {{ sortReverse }}</span>
		
		<table id="logTable" width="100%">
			<tr><th ng-repeat="c in instrumentColumns" ng-click="changeSort(c.sort);"><span ng-bind-html="c.name">{{ c.name }}</span></th></tr>
			<tr ng-repeat="row in db">
				<td ng-repeat="c in instrumentColumns">{{ row[c.id] | picker:c.format }}</td>
			</tr> 
		</table>
	</div>
	<br/>

</body>


</html>
