<html>
	<head>
		<meta charset="UTF-8">
	 	<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
		<link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<style>

		 <!-- <link rel="stylesheet" href="bootstrap.css"> -->
		 <title>Live WebLogger</title>
		<style>
			.headerdata {
				font-size: 10pt;
				}
			#logTable tr:hover {
     		background-color:lightgrey;
			}
			table {
    	border-collapse: collapse;
			}

			table, th {
    		border: 1px solid black;
			}

			th, td {
    		padding: 5px;
    		text-align: left;
			}
		</style>
		<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
		<script src="datahandler.js"></script>
		<script src="jquery-3.2.1.min.js"></script>

		<script>
		window.addEventListener("load", pageLoaded, false);

		var today = new Date();
		var valueForDatePicker = today.getFullYear() + "-" + ("0"+(today.getMonth()+1)).slice(-2) + "-" + ("0" + today.getDate()).slice(-2);

		function pageLoaded() {
			document.getElementById("datePicker").value = valueForDatePicker;
		}

		</script>

</head>

<body ng-app="LogApp"  ng-controller="dbController" ng-init="init()">
<div>
	<img ng-src="{{ telescope.imageURL }}" width="10%" align="right"/>
	<h1 id="pageheading">{{ telescope.name }} Live WebLogger</h1>
	<select ng-model="telescope" ng-options="t.name for t in telescopes" ng-change="load()">
	</select>
  Current Telescope: {{ telescope.name }}
	<input id="datePicker" type="date">
</div>

<br/>

	<div>
		{{ statusString }} 
		<button class="btn" ng-click="clear()">Clear</button>
		<button class="btn" ng-click="load()">Load</button>
		<table id="logTable">
			<tr>
				<th ng-click="sortColumn = 'RUN'; sortReverse=!sortReverse">Run</th>
				<th ng-click="sortColumn = 'OBJECT'; sortReverse=!sortReverse">Object</th>
				<th ng-click="sortColumn = 'RA'; sortReverse=!sortReverse">RA</th>
				<th ng-click="sortColumn = 'DEC'; sortReverse=!sortReverse">DEC</th>
				<th ng-click="sortColumn = 'UT'; sortReverse=!sortReverse">UT</th>
				<th>Airmass</th>
				<th>Instrument</th>
				<th>T<sub>exp</sub></th>
				<th>Sky PA</th>
				<th>Filters</th>
				<th>Slit</th>
				<th>Grating</th>
				<th>Cen. wave</th>
			</tr>
	  	<tr ng-repeat="row in db | orderBy:sortColumn:sortReverse">
	    	<td>{{ row.RUN }}</td>
	    	<td>{{ row.OBJECT }}</td>
				<td>{{ row.RA }}</td>
				<td>{{ row.DEC }}</td>
				<td>{{ row.UTOBS | formatTime }}</td>
				<td>{{ row.AIRMASS | round:2 }}</td>
				<td>{{ row.INSTRUME }}</td>
				<td>{{ row.EXPTIME | round:0 }}</td>
				<td>{{ row.ROTSKYPA | round }} </td>
				<td>{{ row.ISIFILTA + "+" + row.ISIFILTB}}</td>
				<td>{{ row.ISISLITW | round:1 }}</td>
				<td>{{ row.ISIGRAT }}</td>
				<td>{{ row.CENWAVE }}</td>
			</tr>
		</table>
	</div>




</body>


</html>

<!-- | orderBy:'-filename'" -->
